webpackJsonp([11],{JJ5e:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"App",data:function(){return{userTitle:"",user:{},userVisible:!1,search:{status:"",phone:""},date_time:"",value:0,options:[1],total:1e3,limit:10,page:1,loading:!0,tableData:[]}},created:function(){this.loadData({})},mounted:function(){this.loading=!1},methods:{getUserInfo:function(t){var e=this;this.$api.get("enterprise/get_user_info",{uid:t},function(t){e.user=t.data.data,e.userTitle=e.user.nickname,e.userVisible=!0})},loadData:function(t){var e=this,s=t||{};s.page=this.page,s.limit=this.limit,this.$api.get("enterprise/get_bind_user",s,function(t){e.tableData=t.data.data.list,e.total=t.data.data.total})},dateRes:function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},searchBtn:function(){this.search.begin_time=this.date_time[0],this.search.end_time=this.date_time[1],this.loadData(this.search)},handleClick:function(t){console.log(t)},editBind:function(t,e){var s=this,a={uid:t,status:e},i=1==e?"同意之后该人才即可领取发布的任务，确定这样操作么？":"拒绝之后该人才再也不可领取发布的任务，确定这样操作么？";this.$confirm(i,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.$api.post("/enterprise/edit_bind_user",a,function(t){t.data.bol?(s.$message.success(t.data.msg),s.loadData({})):s.$message.error(t.data.msg)})}).catch(function(){s.$message({type:"info",message:"已取消删除"})})},pageChange:function(t){this.page=t,this.loadData({})},reload:function(){this.loadData()}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-row",[s("el-breadcrumb",{attrs:{separator:"/"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),s("el-breadcrumb-item",[s("a",{attrs:{href:"/"}},[t._v("人才列表")])])],1)],1),t._v(" "),s("el-row",{staticClass:"mt15",attrs:{gutter:10}},[s("el-col",{attrs:{span:6,sm:6,xs:8}},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.date_time,callback:function(e){t.date_time=e},expression:"date_time"}})],1),t._v(" "),s("el-col",{attrs:{span:4}},[s("el-input",{attrs:{placeholder:"输入人才手机号"},model:{value:t.search.phone,callback:function(e){t.$set(t.search,"phone",e)},expression:"search.phone"}})],1),t._v(" "),s("el-col",{attrs:{span:3}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.search.status,callback:function(e){t.$set(t.search,"status",e)},expression:"search.status"}},[s("el-option",{attrs:{label:"申请中",value:"3"}}),t._v(" "),s("el-option",{attrs:{label:"已同意",value:"1"}}),t._v(" "),s("el-option",{attrs:{label:"已拒绝",value:"2"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:2}},[s("el-button",{attrs:{icon:"el-icon-search"},on:{click:t.searchBtn}},[t._v("查询")])],1),t._v(" "),s("el-col",{attrs:{xl:1,lg:1,md:3,sm:4,xs:4}},[s("el-button",{attrs:{type:"success"},on:{click:t.reload}},[t._v("刷新")])],1)],1),t._v(" "),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"mt15",attrs:{data:t.tableData,border:""}},[s("el-table-column",{attrs:{type:"index",label:"编号",fixed:"",width:"60",align:"center","header-align":"center"}}),t._v(" "),s("el-table-column",{attrs:{fixed:"",prop:"uname",label:"昵称",align:"center","header-align":"center"}}),t._v(" "),s("el-table-column",{attrs:{fixed:"",label:"头像",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("div",[s("img",{attrs:{src:t.row.ulogo,alt:"",width:"60",height:"60"}})])]}}])}),t._v(" "),s("el-table-column",{attrs:{fixed:"",prop:"uphone",label:"手机",align:"center","header-align":"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"created_at",label:"记录时间",align:"center","header-align":"center"}}),t._v(" "),s("el-table-column",{attrs:{fixed:"right",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?s("el-button",{attrs:{type:"success",size:"mini"}},[t._v("已绑定")]):t._e(),t._v(" "),2==e.row.status?s("el-button",{attrs:{type:"drange",size:"mini"}},[t._v("已拒绝")]):t._e(),t._v(" "),3==e.row.status?s("el-button",{attrs:{type:"warning",size:"mini"}},[t._v("申请中")]):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",height:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(s){return t.getUserInfo(e.row.uid)}}},[t._v("查看信息")]),t._v(" "),3==e.row.status?s("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(s){return t.editBind(e.row.uid,1)}}},[t._v("同意")]):t._e(),t._v(" "),3==e.row.status?s("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(s){return t.editBind(e.row.uid,2)}}},[t._v("拒绝")]):t._e(),t._v(" "),1==e.row.status?s("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(s){return t.editBind(e.row.uid,2)}}},[t._v("解除绑定")]):t._e(),t._v(" "),2==e.row.status?s("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(s){return t.editBind(e.row.uid,1)}}},[t._v("重新绑定")]):t._e()]}}])})],1),t._v(" "),s("div",{staticClass:"mt15"},[s("el-pagination",{attrs:{layout:"prev, pager, next",total:t.total,"page-size":t.limit,background:!0},on:{"current-change":t.pageChange}})],1),t._v(" "),s("el-dialog",{attrs:{title:t.userTitle,visible:t.userVisible,width:"700px",center:!0,"close-on-click-modal":!1},on:{"update:visible":function(e){t.userVisible=e}}},[s("el-row",[s("el-col",{attrs:{align:"center"}},[s("div",{staticClass:"mt15"},[t._v("基本信息")]),t._v(" "),s("el-card",{staticClass:"mt15",attrs:{align:"center"}},[s("div",{staticClass:"user_info"},[s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("昵称：")]),s("div",{staticClass:"right"},[t._v(t._s(t.user.nickname))])]),t._v(" "),s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("手机号：")]),s("div",{staticClass:"right"},[t._v(t._s(t.user.phone))])])])]),t._v(" "),s("div",{staticClass:"mt15"},[t._v("学校信息")]),t._v(" "),t._l(t.user.education_info,function(e,a){return s("el-card",{key:a,staticClass:"mt15",attrs:{align:"center"}},[s("div",{staticClass:"user_info"},[s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("学校：")]),s("div",{staticClass:"right"},[t._v(t._s(e.school_name))])]),t._v(" "),s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("学历：")]),s("div",{staticClass:"right"},[t._v(t._s(e.max_schooling))])]),t._v(" "),s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("专业：")]),s("div",{staticClass:"right"},[t._v(t._s(e.professional))])]),t._v(" "),s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("入学时间：")]),s("div",{staticClass:"right"},[t._v(t._s(e.begin_time))])]),t._v(" "),s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("毕业时间：")]),s("div",{staticClass:"right"},[t._v(t._s(e.end_time))])])])])}),t._v(" "),s("div",{staticClass:"mt15"},[t._v("工作经历信息")]),t._v(" "),t._l(t.user.work_info,function(e,a){return s("el-card",{key:a,staticClass:"mt15",attrs:{align:"center"}},[s("div",{staticClass:"user_info"},[s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("公司名字：")]),s("div",{staticClass:"right"},[t._v(t._s(e.school_name))])]),t._v(" "),s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("行业：")]),s("div",{staticClass:"right"},[t._v(t._s(e.max_schooling))])]),t._v(" "),s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("职业名称：")]),s("div",{staticClass:"right"},[t._v(t._s(e.professional))])]),t._v(" "),s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("标签：")]),s("div",{staticClass:"right"},[t._v(t._s(e.begin_time))])]),t._v(" "),s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("部门：")]),s("div",{staticClass:"right"},[t._v(t._s(e.end_time))])]),t._v(" "),s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("工作内容：")]),s("div",{staticClass:"right"},[t._v(t._s(e.end_time))])]),t._v(" "),s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("入职时间：")]),s("div",{staticClass:"right"},[t._v(t._s(e.end_time))])]),t._v(" "),s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("离职时间：")]),s("div",{staticClass:"right"},[t._v(t._s(e.end_time))])])])])})],2)],1)],1)],1)},staticRenderFns:[]};var l=s("VU/8")(a,i,!1,function(t){s("eZMr")},null,null);e.default=l.exports},eZMr:function(t,e){}});
//# sourceMappingURL=11.a86cfffd4a6d4ab29f58.js.map